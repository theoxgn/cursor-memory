---
description: Auto Memory Write System
globs: ["**/*"]
alwaysApply: true
priority: high
---

# ğŸ”„ AUTO MEMORY WRITE SYSTEM

## ğŸ¯ CRITICAL AUTO-UPDATE RULES

### **MANDATORY AFTER EVERY TASK:**
1. **IMMEDIATELY** update `project_memory.md` after completing ANY task
2. **IMMEDIATELY** update `session_state.json` with progress
3. **NEVER** end session without both memory and session updates
4. **ALWAYS** use templates for consistency

### **AUTO-UPDATE TRIGGERS:**

#### **For project_memory.md:**
- âœ… Problem solved â†’ Add to MASALAH & SOLUSI
- âœ… New rule/spec â†’ Add to SPESIFIKASI & RULES  
- âœ… Lesson learned â†’ Add to LESSONS LEARNED
- âœ… File created/changed â†’ Update CURRENT STATUS
- âœ… Bug fixed â†’ Document solution
- âœ… Performance improved â†’ Record improvement

#### **For session_state.json:**
- âœ… Task started â†’ Mark as IN_PROGRESS
- âœ… Step completed â†’ Update step status and progress
- âœ… Task finished â†’ Mark as COMPLETED
- âœ… Error encountered â†’ Document checkpoint for recovery
- âœ… Session ending â†’ Save final state

## ğŸ“ MEMORY UPDATE TEMPLATES

### **For Problems/Issues:**
```markdown
### **X. MASALAH [NAMA] - [TANGGAL]**
**âŒ Root Cause:** [akar masalah]
**âŒ Impact:** [dampak pada sistem]
**âŒ Symptoms:** [gejala yang terlihat]
**âœ… Solusi:** [solusi yang berhasil]
- [detail implementasi]
- Files: [file yang diubah/dibuat]
```

### **For New Rules:**
```markdown
### **[NAMA_RULE] - [TANGGAL]**
- **OLD:** [rule lama]
- **NEW:** [rule baru]
- **Reason:** [alasan perubahan]
- **Impact:** [dampak perubahan]
```

### **For Lessons Learned:**
```markdown
### **[NOMOR]. [TEMA_LESSON]**
- âŒ **SALAH:** [praktek yang salah]
- âœ… **BENAR:** [praktek yang benar]
- ğŸ’¡ **Insight:** [pembelajaran kunci]
```

## ğŸš¨ CRITICAL ENFORCEMENT

### **NEVER DO:**
- âŒ End session without updating memory
- âŒ Skip documenting solutions that worked
- âŒ Forget to update current status
- âŒ Leave lessons learned undocumented

### **ALWAYS DO:**
- âœ… Update memory IMMEDIATELY after task completion
- âœ… Use proper templates for consistency
- âœ… Include current date in updates
- âœ… Cross-reference with existing memory

### **For Session State:**
```json
{
  "project_name": "itin",
  "session_id": "session_YYYYMMDD_HHMMSS",
  "last_updated": "2024-06-24T11:45:00Z",
  "current_task": {
    "name": "task_name",
    "status": "IN_PROGRESS|COMPLETED|FAILED",
    "progress_percent": 75,
    "can_resume": true
  },
  "completed_tasks": [
    {
      "name": "previous_task",
      "status": "COMPLETED", 
      "completion_time": "2024-06-24T11:30:00Z"
    }
  ],
  "next_tasks": ["upcoming_task_1", "upcoming_task_2"]
}
```

## ğŸ“‹ AUTO-UPDATE CHECKLIST

**After completing ANY development task:**
- [ ] Open `project_memory.md` and add findings using templates
- [ ] Open `session_state.json` and update progress
- [ ] Update current status in both files
- [ ] Save both files with current timestamp
- [ ] Mark completed tasks and plan next steps
- [ ] Confirm both memory and session state are accurate